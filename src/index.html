<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta content="2016四维图新产品鉴赏会" name="description">
    <meta content="2016四维图新产品鉴赏会" name="keywords">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimum-scale=1.0, maximum-scale=1.0">
    <title>2016四维图新产品鉴赏会 NavInfo Product Event</title>
    <link rel="stylesheet" href="css/siwei.css">
    <script type="text/javascript">
    document.getElementsByTagName("html")[0].style.fontSize=document.documentElement.clientWidth/16+'px'; 
    </script>
</head>
<body>
    <div class="loading">
        <div class=" ball2"></div>
        <div id="number">loading...</div>
    </div>
	<div style='display:none;'><img src='img/share.png' /></div>
    
    <div id="music" class="music">
        <a class="music-btn play"></a>
    </div>
    
    <div class="wp">
        <div class="wp-inner">
            <div class="page page1">
            	<div class="logo js-animate animated" data-animate="fadeInLeft"></div>
            	<div class="page1_1_1 js-animate animated" data-animate="fadeInUpBig"></div>
            	<div class="page1_1_2 js-animate animated" data-animate="fadeInUpBig"></div>
            	<div class="page1_1_3 js-animate animated" data-animate="fadeInUpBig"></div>
             	<!-- <div id="next" class="ballbox js-animate animated"  data-animate="fadeInUpBig" data-dir="moveNext" >
             		<div  class="ball"  ></div>
             	</div> -->
                <!-- <div class="page1_2 js-animate animated" data-animate="bounceIn"></div> -->
            	<!-- <div class="page1_3 js-animate animated" data-animate="fadeIn"></div> -->
            	<!-- <div class="page1_4 js-animate animated" data-animate="fadeInUpBig"></div> -->
                <div class="stars stars1 js-animate animated" data-animate="twinkling"></div>
                <div class="stars stars2 js-animate animated" data-animate="twinkling"></div>
                <div class="stars stars3 js-animate animated" data-animate="twinkling"></div>
                <div class="stars stars4 js-animate animated" data-animate="twinkling"></div>
                <div class="stars stars5 js-animate animated" data-animate="twinkling"></div>
            	<p class="rainbow">
        			<span class="blue"></span>
        			<span class="blue1"></span>
        			<span class="blue2"></span>
        		</p>
            </div>
            <div class="page page2">

            	<div class="logo js-animate animated" data-animate="fadeInLeft"></div>
                <div class="page2_1 js-animate animated" data-animate="fadeInUpBig"></div>
                <div class="page2_2 js-animate animated" data-animate="fadeInUpBig"></div>
                <div class="page2_3 js-animate animated" data-animate="fadeInUpBig"></div>
                <div class="page2_4 js-animate animated" data-animate="fadeInUpBig"></div>
                <div class="page2_5 js-animate animated" data-animate="fadeInUpBig"></div>
                <div class="page2_6 js-animate animated" data-animate="fadeInUpBig"></div>
                <p class="rainbow">
        			<span class="blue"></span>
        			<span class="blue1"></span>
        			<span class="blue2"></span>
        		</p>
            </div>
             <div class="page page3">
             	<div class="logo js-animate animated" data-animate="fadeInLeft"></div>

                <div class="page3_1 js-animate animated" data-animate="fadeInUpBig"></div>
                <div class="page3_2 js-animate animated" data-animate="fadeInUpBig"></div>
                <div class="page3_3 js-animate animated" data-animate="fadeInUpBig"></div>
                <div class="page3_4 js-animate animated" data-animate="fadeInUpBig"></div>

                <!-- <div class="page3_5 js-animate animated" data-animate="fadeInLeft"></div>
                <div class="page3_6 js-animate animated" data-animate="fadeInRight"></div> -->

                <div class="stars stars1 js-animate animated" data-animate="twinkling"></div>
                <div class="stars stars2 js-animate animated" data-animate="twinkling"></div>
                <div class="stars stars3 js-animate animated" data-animate="twinkling"></div>
                <div class="stars stars4 js-animate animated" data-animate="twinkling"></div>
                <div class="stars stars5 js-animate animated" data-animate="twinkling"></div>

                <p class="rainbow">
        			<span class="blue"></span>
        			<span class="blue1"></span>
        			<span class="blue2"></span>
        		</p>
            </div>
            <div class="page page4">
                <div class="logo js-animate animated" data-animate="fadeInLeft"></div>
                <div class="page4_11">
                    <div class="page4_3 js-animate animated" data-animate="fadeInLeftBig"><img src="img/page4_3.png" alt=""></div>
                    <div class="page4_4 js-animate animated" data-animate="fadeInRightBig"><img src="img/page4_4.png" alt=""></div>
                    <div class="page4_5 js-animate animated" data-animate="fadeInLeftBig"><img src="img/page4_5.png" alt=""></div>
                </div>
                <div class="page4_1 js-animate animated" data-animate="flipInX">
                    <div class="maptit">
                        <p class="address ">
                        <span >风渡嘉荷西餐厅</span><br><b >地址：北京市海淀区永泰庄北路9号潇湘甲鱼村院内</b></p>
                    </div>
                    <a class="map" href="http://map.qq.com" ><img src="img/page4_1.png"></a>
                </div>

                <div class="page4_6 js-animate animated" data-animate="fadeInUpBig" ></div>

                <div class="stars stars1 js-animate animated" data-animate="twinkling"></div>
                <div class="stars stars2 js-animate animated" data-animate="twinkling"></div>
                <div class="stars stars3 js-animate animated" data-animate="twinkling"></div>
                <div class="stars stars4 js-animate animated" data-animate="twinkling"></div>
                <div class="stars stars5 js-animate animated" data-animate="twinkling"></div>
                <p class="rainbow">
        			<span class="blue"></span>
        			<span class="blue1"></span>
        			<span class="blue2"></span>
        		</p>
            </div>
            <div class="page page5">
            	<div class="logo js-animate animated" data-animate="fadeInLeft"></div>
            	<div class="page5_1 js-animate animated" data-animate="fadeInUpBig"><img src="img/page5_1.png"></div>
            	<div class="page5_2 js-animate animated" data-animate="fadeInUpBig"><img src="img/page5_2.png"></div>
            	<div class="page5_3 " >
                    <p  class="page5_9 js-animate animated" data-animate="fadeInLeftBig" >中文</p>
                    <a class="page5_5 js-animate animated" data-animate="fadeInLeftBig" href="http://reception.navinfo.com/Conference/Unique?qs1=partner" ><img src="img/page5_5.png"></a>
            		<a class="page5_7 js-animate animated" data-animate="fadeInLeftBig" href="http://reception.navinfo.com/Conference/Unique?qs1=internal" ><img src="img/page5_7.png"></a>
        		</div>
            	<div class="page5_4">
                    <p  class="page5_10 js-animate animated" data-animate="fadeInRightBig" >English</p>
                    <a class="page5_6 js-animate animated" data-animate="fadeInRightBig" href="http://reception.navinfo.com/Conference/UniqueEn?qs1=partner" ><img src="img/page5_6.png"></a>
            		<a class="page5_8 js-animate animated" data-animate="fadeInRightBig" href="http://reception.navinfo.com/Conference/UniqueEn?qs1=internal" ><img src="img/page5_8.png"></a>
        		</div>


                <div class="stars stars1 js-animate animated" data-animate="twinkling"></div>
                <div class="stars stars2 js-animate animated" data-animate="twinkling"></div>
                <div class="stars stars3 js-animate animated" data-animate="twinkling"></div>
                <div class="stars stars4 js-animate animated" data-animate="twinkling"></div>
                <div class="stars stars5 js-animate animated" data-animate="twinkling"></div>
        		<p class="rainbow">
        			<span class="blue"></span>
        			<span class="blue1"></span>
        			<span class="blue2"></span>
        		</p>
            </div>
        </div>
    </div>
    <span class="start"><b></b></span>
    
    <script type="text/javascript" src="js/zepto.min.js"></script>
    <script type="text/javascript" src="js/zepto.fullpage.js"></script>
    <script>var ctx="";</script>
    <script type="text/javascript" src="js/loader.js"></script>
    <script>
        var init={};
        init.wpInit=function(){

            $('.wp-inner').fullpage({
            	loop:true,
                change: function (e) {
                    // 移除动画属性
                    $('.js-animate').each(function() {
                        $(this).removeClass($(this).data('animate')).hide();
                    });
                    if(e.cur==0||e.cur==2){
                        $(".page2").css({"background-image":"url(img/bg2.jpg)" });
                    }else if(e.cur==1||e.cur==3){
                        $(".page3").css({"background-image":"url(img/bg3.jpg)" });
                        $(".page1").css({"background-image":"url(img/bg1.jpg)" });
                    }else if(e.cur==4||e.cur==1){
                    	$(".page1").css({"background-image":"url(img/bg1.jpg)" });
                    }

                },
                beforeChange:function(e){
                    // console.log("变化之前"+parseInt(e.next))
                    var num=parseInt(e.next+1),
                        str=".page"+parseInt(e.next+1),
                    	imgsrc='img/bg'+parseInt(e.next+1)+'.gif?'+Math.random();
                    if(e.next==0||e.next==1||e.next==2){
                        var img= new Image();
                        img.src=imgsrc;
                        img.onload=function(){
                            $(str).css({"background-image":"url("+imgsrc+")" });
                             $('.page').eq(e.next).find('.js-animate').each(function () {
                                $(this).addClass($(this).data('animate')).show();
                            });
                        }
                    }
                },
                afterChange: function (e) {
                    if(e.cur==0||e.cur==1||e.cur==2){
                        return false;
                    }
                    // 添加动画属性
                    $('.page').eq(e.cur).find('.js-animate').each(function () {
                        $(this).addClass($(this).data('animate')).show();
                    });
                }
            });


            $('#prev, #next').on('click', function (e) {
                e.preventDefault();
                $.fn.fullpage[$(this).data('dir')](true);
            });
    
        }

       

        //声音控制
        var bgAudio = new Audio();
        bgAudio.loadStatus = 'unload';
        bgAudio.loop = true;
        function loadAudio(audio, url, callback) {
            audio.src = url;
            audio.load();
            audio.addEventListener('canplay', function () {
                bgAudio.loadStatus = 'loaded';
                callback();
            });
            audio.addEventListener('loadstart', function () {
                bgAudio.loadStatus = 'loading';
            });
        }
        function playAudio(){
            if (bgAudio.loadStatus === 'unload') {
                loadAudio(bgAudio, 'media/bg1.mp3', function () {
                    playAudio();
                });
                return 1;
            }

            bgAudio.play();
        }
        function stopAudio() {
            bgAudio.pause();
        }
        bgAudio.addEventListener('playing' ,function (e) {
            $('#music .music-btn').addClass('play');
        });
        bgAudio.addEventListener('pause' ,function (e) {
            $('#music .music-btn').removeClass('play');
        });

        $('body').one('touchstart', function () {
            playAudio();
            $('#music').on('touchstart', function (e) {
                if (bgAudio.paused) {
                    playAudio();
                    return 0;
                }
                stopAudio();
                return 1;
            });
        });
        window.onload = function() {
            if (bgAudio.loadStatus !== 'unload') {return;}
            playAudio();
        };
        
    </script>


</body>
</html>
